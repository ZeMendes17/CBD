capicua = function () {
    const phones = getPhones();
    let capicuas = [];
    phones.forEach(function (phone) {
        if (phone === phone.split("").reverse().join("")) {
            capicuas.push(phone);
        }
    });
    return capicuas;
}

// Result:
// [
//     '210000012', '232020232',
//     '232030232', '234050432',
//     '210060012', '231080132',
//     '220101022', '232101232',
//     '210121012', '232121232',
//     '233121332', '234121432',
//     '210131012', '220131022',
//     '234131432', '210151012',
//     '233171332', '232181232'
//   ]

digitos_iguais = function () {
    const phones = getPhones();
    let iguais = [];
    phones.forEach(function (phone) {
        if (phone === phone[0].repeat(phone.length)) {
            iguais.push(phone);
        }
    });
    return iguais;
}

// Result:
// []

digitos_diferentes = function () {
    const phones = getPhones();
    let distintos = [];
    phones.forEach(function (phone) {
        let set = new Set(phone);
        if (set.size === phone.length) {
            distintos.push(phone);
        }
    });
    return distintos;
}

// Result:
// [
//     '234015798', '234015879', '234016597', '234016798', '234016958',
//     '234016975', '234016987', '234017695', '234017956', '234018567',
//     '234018576', '234018597', '234018679', '234018765', '234018976',
//     '234019578', '234019768', '234019786', '234019856', '231045879',
//     '231045967', '231045978', '231045987', '231046579', '231046598',
//     '231046785', '231046879', '231046958', '231047569', '231047685',
//     '231047698', '231047869', '231048579', '231048765', '231048965',
//     '231048975', '231049758', '231049765', '231049768', '234051678',
//     '234051698', '234051786', '234051796', '234051978', '231054689',
//     '231054698', '231054976', '231054987', '234056178', '234056179',
//     '231056498', '234056781', '231056794', '234056798', '234056871',
//     '234056879', '234056897', '231056947', '231056974', '231057486',
//     '234057681', '234057691', '234057918', '231057948', '231057964',
//     '231057968', '234058179', '234058619', '231058649', '231058679',
//     '231058697', '231058746', '231058749', '231058769', '231058796',
//     '234058916', '231058967', '234058971', '234059168', '234059176',
//     '231059648', '234059687', '234059761', '234059861', '231059864',
//     '234059871', '231059874', '234061589', '234061795', '234061875',
//     '234061895', '231064597', '231064758', '231064859', '231065478',
//     '231065748', '234065781', '234065791', '231065879', '231065897',
//     ... 250 more items
//   ]
  
primos = function () {
    const phones = getPhones();
    let primos = [];
    phones.forEach(function (phone) {
        let num = parseInt(phone);
        let isPrime = true;
        for (let i = 2; i <= Math.sqrt(num); i++) {
            if (num % i === 0) {
                isPrime = false;
                break;
            }
        }
        if (isPrime) {
            primos.push(phone);
        }
    });
    return primos;
}

// Result:
// [
//     '234000007', '234000037', '220000073', '231000079', '210000113',
//     '210000149', '233000153', '220000159', '233000167', '210000173',
//     '232000177', '232000211', '233000219', '234000317', '210000377',
//     '231000391', '234000397', '234000401', '232000403', '210000421',
//     '232000423', '210000481', '233000501', '210000517', '233000519',
//     '234000527', '231000533', '234000541', '210000551', '233000563',
//     '234000587', '234000589', '210000607', '231000611', '220000633',
//     '220000643', '234000647', '233000659', '234000703', '232000729',
//     '210000737', '210000793', '234000799', '233000809', '233000821',
//     '232000823', '220000841', '234000863', '233000869', '232000877',
//     '234000889', '233000921', '210000941', '232000943', '220000951',
//     '234000959', '232000991', '232000999', '210001007', '232001009',
//     '220001027', '232001053', '210001073', '231001097', '234001099',
//     '234001111', '231001163', '210001199', '210001219', '234001267',
//     '233001271', '232001279', '233001289', '231001313', '233001383',
//     '233001397', '233001437', '220001447', '234001459', '210001469',
//     '220001479', '231001483', '233001521', '232001527', '210001541',
//     '234001553', '234001597', '210001621', '232001687', '232001699',
//     '234001709', '232001717', '232001719', '210001763', '220001843',
//     '231001877', '210001879', '233001929', '210001933', '210001951',
//     ... 10251 more items
//   ]

pares = function () {
    const phones = getPhones();
    let pares = [];
    phones.forEach(function (phone) {
        if (phone % 2 === 0) {
            pares.push(phone);
        }
    });
    return pares;
}

// Result:
// [
//     '210000002', '231000004', '233000006', '220000008', '233000010',
//     '210000012', '210000014', '233000016', '232000018', '232000020',
//     '231000022', '232000024', '232000026', '210000028', '232000030',
//     '210000032', '232000034', '234000036', '210000038', '233000040',
//     '234000042', '232000044', '234000046', '220000048', '232000050',
//     '233000052', '220000054', '210000056', '233000058', '234000060',
//     '220000062', '220000064', '234000066', '210000068', '233000070',
//     '233000072', '232000074', '234000076', '233000078', '220000080',
//     '231000082', '233000084', '220000086', '231000088', '210000090',
//     '233000092', '234000094', '233000096', '231000098', '232000100',
//     '233000102', '210000104', '231000106', '233000108', '210000110',
//     '210000112', '234000114', '234000116', '233000118', '220000120',
//     '210000122', '220000124', '231000126', '231000128', '234000130',
//     '210000132', '220000134', '231000136', '210000138', '231000140',
//     '232000142', '220000144', '232000146', '233000148', '231000150',
//     '233000152', '232000154', '231000156', '231000158', '234000160',
//     '231000162', '232000164', '220000166', '231000168', '220000170',
//     '220000172', '220000174', '232000176', '220000178', '231000180',
//     '210000182', '220000184', '220000186', '210000188', '233000190',
//     '234000192', '234000194', '233000196', '220000198', '232000200',
//     ... 99900 more items
//   ]

impares = function () {
    const phones = getPhones();
    let impares = [];
    phones.forEach(function (phone) {
        if (phone % 2 !== 0) {
            impares.push(phone);
        }
    });
    return impares;
}

// Result:
// [
//     '231000001', '231000003', '233000005', '234000007', '231000009',
//     '220000011', '232000013', '231000015', '232000017', '231000019',
//     '220000021', '234000023', '233000025', '210000027', '210000029',
//     '231000031', '210000033', '231000035', '234000037', '231000039',
//     '220000041', '220000043', '232000045', '231000047', '232000049',
//     '233000051', '232000053', '231000055', '231000057', '234000059',
//     '220000061', '220000063', '233000065', '234000067', '210000069',
//     '231000071', '220000073', '232000075', '231000077', '231000079',
//     '232000081', '231000083', '233000085', '210000087', '232000089',
//     '231000091', '233000093', '233000095', '231000097', '231000099',
//     '210000101', '232000103', '232000105', '231000107', '232000109',
//     '232000111', '210000113', '220000115', '231000117', '233000119',
//     '220000121', '220000123', '231000125', '210000127', '233000129',
//     '231000131', '232000133', '232000135', '234000137', '231000139',
//     '210000141', '220000143', '234000145', '231000147', '210000149',
//     '232000151', '233000153', '231000155', '231000157', '220000159',
//     '233000161', '220000163', '234000165', '233000167', '233000169',
//     '234000171', '210000173', '233000175', '232000177', '210000179',
//     '234000181', '234000183', '233000185', '234000187', '233000189',
//     '234000191', '210000193', '234000195', '231000197', '233000199',
//     ... 99900 more items
//   ]
  
  

// function used in all the above to get the phones
getPhones = function () {
    var phones = [];
    const display = db.phones.find({}, { _id: 0, display: 1 });
    display.forEach(function (phone) {
        let phoneStr = phone["display"].slice(phone["display"].indexOf("-") + 1);
        phones.push(phoneStr);
    });
    return phones;
}